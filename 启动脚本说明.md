# 🚀 招标投标规范智能审核系统 - 启动脚本说明

## 📋 可用的启动脚本

### 1. 🎯 **quick_start.py** - 推荐使用
**最简单快速的启动方式**

```bash
# 直接运行
python quick_start.py

# 或者
python3 quick_start.py
```

**特点：**
- ✅ 跨平台支持 (Windows/macOS/Linux)
- ✅ 自动检查环境依赖
- ✅ 启动后端服务
- ✅ 创建美观的前端展示页面
- ✅ 自动打开浏览器
- ✅ 简单易用，适合开发和演示

### 2. 🔧 **start_services.py** - 完整版本
**功能最完整的启动器**

```bash
python start_services.py
```

**特点：**
- ✅ 完整的服务管理
- ✅ 服务监控和自动重启
- ✅ 详细的日志输出
- ✅ 前端占位符服务
- ✅ 优雅的关闭处理
- ✅ 适合生产环境

### 3. 🐧 **start.sh** - Linux/macOS Shell脚本
**适用于Unix系统的原生脚本**

```bash
# 设置可执行权限
chmod +x start.sh

# 运行
./start.sh
```

**特点：**
- ✅ 原生Shell脚本，性能优秀
- ✅ 彩色终端输出
- ✅ 端口占用检测和释放
- ✅ 自动打开浏览器
- ✅ 适合Linux/macOS开发环境

### 4. 🪟 **start.bat** - Windows批处理脚本
**专为Windows系统设计**

```cmd
start.bat
```

**特点：**
- ✅ Windows原生批处理
- ✅ 自动检测和释放端口
- ✅ UTF-8编码支持
- ✅ 自动打开浏览器
- ✅ 适合Windows开发环境

## 🎯 推荐使用方式

### 开发环境 (推荐)
```bash
python quick_start.py
```

### 演示环境
```bash
python start_services.py
```

### Linux/macOS生产环境
```bash
./start.sh
```

### Windows环境
```cmd
start.bat
```

## 📊 访问地址

启动成功后，可以通过以下地址访问系统：

| 服务 | 地址 | 说明 |
|------|------|------|
| **API文档** | http://127.0.0.1:8090/docs | Swagger API文档 |
| **健康检查** | http://127.0.0.1:8090/health | 系统健康状态 |
| **文档管理** | http://127.0.0.1:8090/api/v1/documents/ | 文档管理接口 |
| **支持类型** | http://127.0.0.1:8090/api/v1/documents/supported-types | 支持的文件类型 |
| **存储统计** | http://127.0.0.1:8090/api/v1/documents/storage/stats | 存储统计信息 |
| **前端页面** | http://127.0.0.1:3000 | 前端展示页面 |

## 🔧 环境要求

### 必需环境
- Python 3.10+
- 虚拟环境 `zaobiao_env`
- 已安装依赖 `pip install -r requirements.txt`

### 系统依赖
- **macOS**: 需要 `libmagic`
  ```bash
  brew install libmagic
  ```
- **Ubuntu/Debian**: 需要 `libmagic1`
  ```bash
  sudo apt-get install libmagic1
  ```
- **Windows**: 通常不需要额外依赖

## 🚨 常见问题

### 1. 端口被占用
```
⚠️ 端口 8090 已被占用
```
**解决方案：**
- 脚本会自动尝试释放端口
- 手动释放：`lsof -ti:8090 | xargs kill -9`

### 2. 虚拟环境不存在
```
❌ 虚拟环境不存在
```
**解决方案：**
```bash
python -m venv zaobiao_env
source zaobiao_env/bin/activate  # macOS/Linux
# 或
zaobiao_env\Scripts\activate     # Windows
pip install -r requirements.txt
```

### 3. libmagic错误
```
ImportError: failed to find libmagic
```
**解决方案：**
```bash
# macOS
brew install libmagic

# Ubuntu/Debian
sudo apt-get install libmagic1

# Windows
# 通常不需要，如果遇到问题请安装 python-magic-bin
pip install python-magic-bin
```

### 4. 权限错误 (Linux/macOS)
```
Permission denied
```
**解决方案：**
```bash
chmod +x start.sh quick_start.py start_services.py
```

## 📝 日志文件

启动后会生成以下日志文件：
- `backend.log` - 后端服务日志
- `frontend.log` - 前端服务日志 (如果适用)

## 🛑 停止服务

### 方式1: Ctrl+C
在运行脚本的终端中按 `Ctrl+C`

### 方式2: 手动停止
```bash
# 查找进程
ps aux | grep uvicorn

# 停止进程
kill -9 <PID>

# 或停止所有Python进程
pkill -f python
```

### 方式3: 端口释放
```bash
# Linux/macOS
lsof -ti:8090 | xargs kill -9

# Windows
netstat -ano | findstr :8090
taskkill /PID <PID> /F
```

## 🎉 Week 3 功能展示

启动系统后，您可以体验以下 Week 3 完成的功能：

### ✅ 已完成功能
1. **智能文件验证** - 支持21种文件类型
2. **文件存储管理** - 分层存储，重复检测
3. **解析队列** - 异步处理，状态跟踪
4. **API接口** - 10个新增端点
5. **数据模型** - 优化存储结构

### 🔍 测试建议
1. 访问 API 文档查看完整接口
2. 上传测试文件验证存储功能
3. 查看存储统计了解系统状态
4. 测试文件类型验证功能

## 📚 相关文档
- [需求文档.md](需求文档.md) - 系统需求和开发经验
- [系统设计方案.md](系统设计方案.md) - 详细技术设计
- [Week2_测试报告.md](Week2_测试报告.md) - Week 2 测试结果

---

**🚀 享受使用招标投标规范智能审核系统！**
